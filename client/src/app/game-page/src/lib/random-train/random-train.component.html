<background-image></background-image>
<mat-card class="example-card">
  <mat-card-header>
    <mat-card-subtitle>
      <button  class="outline-go-back-btn" routerLink="/" mat-button color="primary">
        <mat-icon>arrow_back_ios</mat-icon>
        Back
      </button>
      <button class="outline-location" mat-button color="accent">
        <mat-icon>location_on</mat-icon>
        {{departureLocation}}
      </button>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <ng-container *ngIf="state.randomTrain && !state.loading">
      <div class="title-container">
        <p class="mat-headline-6 departure-title">Train towards: <b>{{state.randomTrain.departure.direction}}</b></p>
        <p class="mat-h2 time-title">Departure time:</p>
        <p class="mat-headline-3 time-title"><b>{{state.randomTrain.departure.plannedDateTime | date:'shortTime'}}</b></p>
        <p class="mat-headline-6">On platform: <b>{{state.randomTrain.departure.actualTrack}}</b></p>
        <p class="mat-headline-6 departure-title">Exit the train at station: <b>{{state.randomTrain.exitStation.mediumName}}</b></p>
      </div>
    </ng-container>
    <ng-container *ngIf="state.error && !state.loading">
      <div class="title-container">
        <p class="mat-headline-6 departure-title">{{state.error}}</p>
      </div>
    </ng-container>
    <mat-progress-spinner *ngIf="state.loading" mode="indeterminate"></mat-progress-spinner>

  </mat-card-content>
  <div class="spacer"></div>
  <ng-container>
    <mat-card-actions>
      <button *ngIf="!state.loading" mat-raised-button color="primary" (click)="getRandomTrain()">
        <mat-icon class="icon">location_on</mat-icon>
        Missed train
      </button>
      <button *ngIf="state.randomTrain && !state.loading" mat-raised-button color="accent" (click)="saveTrip()">
        <mat-icon class="icon">train</mat-icon>
        Arrived
      </button>
    </mat-card-actions>
  </ng-container>
</mat-card>
